
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hashie: The Hash Toolkit - 葱末COngMo</title>
  <meta name="author" content="xiaori.liu">

  
  <meta name="description" content="One of my earliest gems was Mash, a useful tool for creating mocking objects as a Hash. One of the most common problems people had with Mash was a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://congmo.github.com/blog/2009/11/12/hashie-the-hash-toolkit">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="葱末COngMo" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">葱末COngMo</a></h1>
  
    <h2>与人玫瑰，手有余香.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:congmo.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Hashie: The Hash Toolkit</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-12T00:00:00+08:00" pubdate data-updated="true">Nov 12<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>One of my earliest gems was <a href="http://intridea.com/2008/4/12/mash-mocking-hash-for-total-poser-objects?blog=company">Mash</a>, a useful tool for creating mocking objects as a Hash. One of the most common problems people had with Mash was a simple one: it conflicted with another class of the same name in extlib! To address this problem as well as give the project some room to grow, Mash is now part of a new toolkit called <strong>Hashie</strong>. Hashie is available now via Gemcutter and the source, as always, is <a href="http://github.com/intridea/hashie">available on GitHub</a>. To install:</p>
<pre name='code'>gem install hashie</pre>
<h3>Hello, Hashie</h3>
<p>Hashie is, right now, simply the former Mash code along with a new extended Hash called a Dash. A Dash is a &#8220;discrete hash&#8221; that has pre-defined properties. It can be used as a dead-simple data object when even something like DataMapper is too heavy, but a Struct is too light (Dash gives you the ability to set per-property defaults as well as initialize from an attributes Hash). For example:</p>
<div>
<pre><code class='ruby'>class Person &amp;lt; Hashie::Dash
property :name
property :email
property :occupation, :default =&gt; &#8216;Rubyist&#8217;
<p>end</p>
<p>p = Person.new<br />
p.name # =&gt; nil<br />
p.occupation # =&gt; &#8216;Rubyist&#8217;<br />
p.email = &#8216;abc@def.com&#8217;<br />
p.email # =&gt; &#8216;abc@def.com&#8217;<br />
p[&#8216;awesome&#8217;] # =&gt; NoMethodError</p>
<p>p = Person.new(:name =&gt; &quot;Awesome Guy&quot;)<br />
p.name # =&gt; &quot;Awesome Guy&quot;<br />
p.occupation # =&gt; &quot;Rubyist&quot;</code></pre></p>
</div>
<p>The other advantage Hashie has over Mash is that it&#8217;s built from the ground up to avoid conflicts. Instead of adding <code>stringify_keys</code> methods to the Hash class, it&#8217;s instead added to a Hashie::Hash subclass. You can, however, get Hashie&#8217;s few Hash extensions in the Hash class by including the HashExtensions:</p>
<div>
<pre><code class='ruby'>Hash.send :include, Hashie::HashExtensions</code></pre>
</div>
<p>Hopefully the move will make it easier for everyone to use it in their projects without fear of running into conflicts, and hopefully you&#8217;ll also find the Dash useful. Over time the functionality of Hashie may grow to encompass additional simple and useful extensions of Hash. So install Hashie, your friendly neighborhood Hash toolkit, today!</p></div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">xiaori.liu</span></span>

      








  


<time datetime="2009-11-12T00:00:00+08:00" pubdate data-updated="true">Nov 12<span>th</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://congmo.github.com/blog/2009/11/12/hashie-the-hash-toolkit/" data-via="" data-counturl="http://congmo.github.com/blog/2009/11/12/hashie-the-hash-toolkit/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2009/11/18/compiling-mustache-views-for-mustache-js/" title="next Post: Compiling Mustache Views for Mustache.js">Compiling Mustache Views for Mustache.js &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/02/01/test-chinese/">Guest Post on RubyLearning: 中文Building DSLs with yield and instance_eval</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/17/2/">MultiJSON: The Swappable JSON Handler</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/16/testtesttest/">teesesest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/11/30/rubylearning-guest-post/">Guest Post on RubyLearning: Building DSLs with yield and instance_eval</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/10/03/omniauth-flexible-authentication-for-rack/">OmniAuth: Flexible, Unassuming Multi-Provider Authentication for Rack</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - xiaori.liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
