
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby Quick Tip: Instant Utility Modules - 葱末COngMo</title>
  <meta name="author" content="xiaori.liu">

  
  <meta name="description" content="Sometimes you want to write a batch of utility methods that can be accessed from a module for example Utility.parse_something(string) or any number &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://congmo.github.com/blog/2010/04/19/ruby-quick-tip-instant-utility-modules">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="葱末COngMo" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">葱末COngMo</a></h1>
  
    <h2>与人玫瑰，手有余香.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:congmo.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Ruby Quick Tip: Instant Utility Modules</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-19T00:00:00+08:00" pubdate data-updated="true">Apr 19<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Sometimes you want to write a batch of utility methods that can be accessed from a module for example <code>Utility.parse_something(string)</code> or any number of useful little tools for your application. Here&#8217;s a very clean-looking way to achieve it:</p>
<pre name='code' class='ruby'>module Utilities
  extend self

  def parse_something(string)
    # do stuff here
  end

  def other_utility_method(number, string)
    # do some more stuff
  end
end</pre>
<p>By placing <code>"extend self"</code> at the top of the module, you are telling it to include all of the methods defined on your module as class methods on&#8230;your module. Which means that you can now access them like other class methods! While there are other ways to do this, I think this is a very semantically clean way that gets it done quite nicely.</p>
<p><strong>Update:</strong> And this is exactly why I post these Quick Tips, because sometimes there&#8217;s another solution that I hadn&#8217;t heard of! Using Ruby&#8217;s <code>module_function</code> you can achieve the same effect:</p>
<pre name='code' class='ruby'>module Utilities
  module_function
  
  def parse_something(string)
    # do stuff here
  end

  def other_utility_method(number, string)
    # do some more stuff
  end
end</pre>
<p>The <code>module_function</code> method either takes multiple symbols as arguments for the methods to turn into module methods or, if invoked without arguments, will cause all subsequent methods to be defined as module functions. You can <a href="http://ruby-doc.org/core/classes/Module.html#M001642">read the Ruby documentation about it here</a>. Ultimately I&#8217;m not sure which I&#8217;d go with, as <code>module_function</code> is pretty esoteric (I&#8217;ve never come across it in code that I&#8217;ve read), but so is <code>extend self</code>. It&#8217;s your call, developers!</p></div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">xiaori.liu</span></span>

      








  


<time datetime="2010-04-19T00:00:00+08:00" pubdate data-updated="true">Apr 19<span>th</span>, 2010</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://congmo.github.com/blog/2010/04/19/ruby-quick-tip-instant-utility-modules/" data-via="" data-counturl="http://congmo.github.com/blog/2010/04/19/ruby-quick-tip-instant-utility-modules/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2010/04/12/toggle-css3-bookmarklet/" title="Previous Post: Toggle CSS3 Bookmarklet">&laquo; Toggle CSS3 Bookmarklet</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/04/22/oauth2-gem/" title="next Post: Announcing the OAuth2 Gem">Announcing the OAuth2 Gem &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/02/01/test-chinese/">Guest Post on RubyLearning: 中文Building DSLs with yield and instance_eval</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/17/2/">MultiJSON: The Swappable JSON Handler</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/16/testtesttest/">teesesest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/11/30/rubylearning-guest-post/">Guest Post on RubyLearning: Building DSLs with yield and instance_eval</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/10/03/omniauth-flexible-authentication-for-rack/">OmniAuth: Flexible, Unassuming Multi-Provider Authentication for Rack</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - xiaori.liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
